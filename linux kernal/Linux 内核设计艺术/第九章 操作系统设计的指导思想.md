<!-- TOC -->

- [1. 背景](#1-背景)
- [2. 运行最简单程序，操作系统做什么工作](#2-运行最简单程序操作系统做什么工作)

<!-- /TOC -->
# 1. 背景
前面都是讲解的操作系统机制，这章主要从操作系统设计者角度探讨操作系统设计的指导思想。

# 2. 运行最简单程序，操作系统做什么工作
* hello world 程序如下
![2019-09-06-16-33-13.png](./images/2019-09-06-16-33-13.png)

上面代码非常简单，但是执行过程涉及操作系统代码在一万行以上。

执行过程如下(假设编译后的文件是hello)
* 第一部是，shell输入./hello进程被唤醒，对命令进行解析
    * 用户敲击键盘内容记录在设备终端文件tty0上。
        * 系统通过文件形式操作设备，就需要一套文件系统。文件系统包括超级块、逻辑块位图、i节点位图、文件i节点、数据块等。
        * 其次, i王妥根据丈件的不同功能对数据进行分类,包括普通文件、设备文件、目录丈件等 。 ttyO 就属于议各文件 。 有了这些准备才有可能对终祸设备丈件 ttyO 进行操作 。

    * 键盘敲击完毕后，还需要产生键盘终端信号，系统还需要对终端信号处理。
        敲击键盘后，还要产生键盘中断信号。
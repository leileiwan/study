# 1. 背景
Linux kernel还是很复杂的。有效的记住这些名词对我们非常有帮助。
下面，主要根据名词所属的类型进行分类。

# 2. 进程重要名称解释

## 2.1 TSS
* TSS: task state segment,是操作系统在进行进程切换时保护现场信息段。
    * 通常保存的是进程CPU中各种寄存器的值
### 2.1.1 TSS结构和各部分作用
![2019-08-15-16-15-46.png](./images/2019-08-15-16-15-46.png)
TSS 结构基本上是非常固定的。

* 寄存器保存区：TSS偏移20H--5FH(图中32-95).保存通用寄存器、指令寄存器、标志寄存器、指令指针。

* 内存堆栈指针区域：途中4--24区域都为堆栈指针，主要保存的0级和3级模式切换的指针
    * 为甚么是3个堆栈区域。
        * 3级用户程序一个堆栈
        * 0级内核有一个堆栈
        * 3级程序向0级内核跳转有一个堆栈（系统调用）
        * 没有0级程序向3级程序挑战的堆栈。我们想想系统调用，是通过退栈来实现层级跃迁的（其实也可以理解成3级和0级之间需要有个堆栈，不需要方向）
    
* 地址映射寄存器区域：我们知道地址映射主要通过GDT和LDT实现。在进程切换时我们需要保存LDT和CR3(页目录起始地址)，对应图中96和28
CR3和LDT到底存放的是什么？

* 链接字段：对应图中0处。该字段保存的是前一任务TSS地址。该字段因使用段间跳转指令call和中断（异常）而激活存放前一个进程TSS值，并在标志寄存器EFLAGES中的NT位置置1是该字段有效。当使用ret或中断返回指令时，会检查NT字段是否有效，如果有效则找到前一个TSS切换到上一个进程。

* I/O许可字段：为了实现输入输出保护，需要使用I/O许可位图。通过该字段，进程能知道自身的I/O权限。

